# Simple auth implementation in gin

This is a simple authorization and authentication web server implementation in gin/gonic.
Sql queries are generated by sqlc and migrations are done using [golang-migrate](https://github.com/golang-migrate/migrate).
Rename app-example.env to app.env after configuring the file.


# API Routes

## User
**POST :/user/register** 
register request :

    {
	    "username":"example",
	    "password":"atleast6characters",
	    "full_name","name last name",
	    "email":"email@emailservice.com"
    }
**POST : /user/login  
 returns a PASETO token if login request is valid.**
 

    {
	    "username":"yourusername",
	    "password":"yourpassword"
    }
the response is 

    {
	    "username":"enteredusername",
	    "fullname":"name lastname",
	    "email":"email@emailservice@.com",
	    "passowrd_changed_at":"time",
	    "created_at":"time"
    }

## Verify
To send Emailed verification code back to server
**GET: /verify/send?username={username}&code={sentVerificationCode}**

To ask server to send verification code again
**GET : /verify/get?username={username}** 

## Forgot Password
**/forgot?username={username}**
Sends an email to user registered email with a code that need to be sent back with a new password

## ResetPassword
/resetpassword?code={code}
send the emailed code in url query and the new password in http post request body

    {
	    "username":"yourusername",
	    "new_password":"passwordtochangeto"
    }
## Middleware
Middleware is also available in this implementation
/auth route is protected by a middleware that requires bearer token given by signing in
the bearer token need to be in **authorization** header.
| Header field | value |
|--|--|
|authorization  | bearer {paseto token} |






